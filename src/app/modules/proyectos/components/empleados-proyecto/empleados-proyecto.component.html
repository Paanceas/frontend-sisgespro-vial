<div class="container mt-3">
  <div class="position-relative">
    <input
      type="text"
      class="form-control"
      [(ngModel)]="searchTerm"
      placeholder="Buscar empleado..."
      (keyup)="filtrarEmpleados()"
      (keydown)="seleccionarConTeclado($event)"
    />

    <div *ngIf="searchTerm" class="list-group position-absolute w-100">
      <button
        type="button"
        class="list-group-item list-group-item-action"
        *ngFor="let empleado of filtrarEmpleados(); let i = index"
        [class.active]="i === indiceSeleccionado"
        (click)="agregarEmpleado(empleado)"
      >
        {{ empleado.nombre }}
      </button>
    </div>
  </div>

  <table class="table table-hover mt-3">
    <thead class="thead-dark">
      <tr>
        <th>Nombre</th>
        <th>Cargo</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let empleado of empleadosSeleccionados">
        <td>{{ empleado.nombre }}</td>
        <td>{{ empleado.nombre_cargo }}</td>
        <td>
          <button
            type="button"
            class="btn btn-danger btn-sm"
            (click)="eliminarEmpleado(empleado)"
          >
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
